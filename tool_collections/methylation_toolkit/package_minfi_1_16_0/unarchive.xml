<tool id="unarchive" name="Unarchive files" version="0.1.0">
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>
    <command><![CDATA[
        python "${untar}"
    ]]></command>
    <configfiles>
        <configfile name="untar"><![CDATA[
import tarfile
import os
tar = tarfile.open("${input1}")
directory = "local_job_dir"
if not os.path.exists(directory):
    os.makedirs(directory)
tar.extractall(path=directory)
tar.close()
       ]]></configfile>
    </configfiles>
    <inputs>
        <param type="data" name="input1"/>
    </inputs>
    <outputs>
        <data name="report">
          <discover_datasets pattern="__designation__" visible="true" directory="local_job_dir"/>
        </data>
    </outputs>
    <tests>
        <test>
            <param name="input1" value="example.tar"/>
            <output name="output1" file="1.bed"/>
            <output name="output2" file="1.bam"/>
        </test>
    </tests>
    <help><![CDATA[

The  full  documentation for tar is maintained as a Texinfo manual.  If
the info and tar programs are properly installed at your site, the command

"info tar"

should give you access to the complete manual.


AUTHORS

Debian Linux http://www.debian.org/
Mike Frysinger <vapier@gentoo.org>

    ]]></help>
</tool>