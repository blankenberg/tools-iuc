<tool id="data_manager_get_TCGA" name="ELMER TCGA" tool_type="manage_data" version="0.0.1">
    <description>DNA Methylation, Expression and Clinical data index builder</description>
	<requirements>
  		<requirement type="package" version="3.2.1">R</requirement>
	    <requirement type="package" version="1.0">ELMER</requirement>
	</requirements>
    <command interpreter="python" detect_errors="exit_code">
        get_TCGA.py "${out_file}" 
            --disease "${disease}" 
            "${Meth}"
            "${RNA}"
            "${Clinic}"
            --data_table_name "elmer_tcga_indexes"
    </command>
   <inputs>
        <param name="disease" size="4" type="text" value="LUAD" label="Cancer type from TCGA" help="Needs to be a cancer type acronym"/>
        <param name="Meth" type="boolean" checked="true" truevalue="--meth" falsevalue="" label="Get Methylation Data?" />
        <param name="RNA" type="boolean" checked="true" truevalue="--rna" falsevalue="" label="Get Gene Expression Data?" />
        <param name="Clinic"  type="boolean" checked="true" truevalue="--clinic" falsevalue="" label="Get Clinical Data?" />
   </inputs>
    <outputs>
        <data name="out_file" format="data_manager_json" />
    </outputs>
    <citations>
        <citation type="doi">10.1186/s13059-015-0668-3</citation>
    </citations>
    <help>
**What it does:**

Download TCGA is a function to download DNA methylation, RNA expression and clinic data for all
samples of certain cancer type from TCGA website. And downloaded data will be transform to
matrixes or data frame for further analysis. The output results in multiple galaxy history items.

**Input:**

*Cancer Type*: A character specifies the disease to download in TCGA such as BLCA,LUAD,LUSC,BRCA etc

*Methylation*: if TRUE HM450K DNA methylation data will download.

*RNA*: if TRUE RNA-seq Hiseq-V2 from TCGA level 3 will be download.

*Clinic*: if TRUE clinic data will be download for that disease.

*RNAtype*: Specify whether use isoform level or gene level. When RNAtype=gene,
gene level gene expression will be used. When RNAtype=isoform, isoform data will
be used.

*Methfilter*: This takes a number between 0 and 1. For each probe, the percentage of NA among the all the samples should smaller than Methfilter.
The default value is set to 0.2 as mentioned in the vignette for the tool.

**Output:**

Download DNA methylation (HM450K)/RNAseq(HiseqV2)/Clinic data for the specified disease
from TCGA.

    </help>
</tool>
